<html>
<head>
    <title>Modal</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../css/prism.css">
    <link rel="stylesheet" href="../../css/navigation.css">
    <style>
      :root {
        --primary-color: #9cc3d5ff;
        --secondary-color: #0063b2ff;
      }    
    </style>
</head>
<body>
    <div id="banner">
      <a href="../../native"><img alt="logo" src="../../img/logo.png" /></a>
      <a href="../setup.html">React</a>
      <a href="https://github.com/grahammendick/navigation">GitHub</a>
    </div>
    <div id="content">
        <div id="menu">
            <h2>
                <img alt="native" src="../../img/native.png" />
                React Native
            </h2>
            <div id="items">
                <a href="setup.html">Setup</a>
                <a href="hello-world.html">Hello World</a>
                <a href="push-navigation.html">Push Navigation</a>
                <a href="pop-navigation.html">Pop Navigation</a>
                <a href="navigation-bar.html">Navigation Bar</a>
                <a href="tab-bar.html">Tab Bar</a>
                <a href="modal.html" class="selected">Modal</a>
                <a href="drawer.html">Drawer</a>
                <a href="bottom-sheet.html">Bottom Sheet (Android)</a>
                <a href="floating-action-button.html">Floating Action Button (Android)</a>
                <a href="scene-navigation-lifecycle.html">Navigation Lifecycle</a>
                <a href="custom-animation.html">Custom Animation (Android)</a>
                <a href="shared-element-transition.html">Shared Element Transition (Android)</a>
                <a href="deep-links.html">Deep Links</a>
                <a href="typescript.html">TypeScript</a>
                <a href="examples.html">Examples</a>
                <h3>Web</h3>
                <a href="web/setup.html">Setup</a>
                <a href="web/browser-history.html">Browser History</a>
                <a href="web/hyperlinks.html">Hyperlinks</a>
                <a href="web/custom-animation.html">Custom Animation</a>
                <a href="web/shared-element-transition.html">Shared Element Transition</a>
                <a href="web/examples.html">Examples</a>
            </div>
        </div>
        <div id="article">
            <h1>Modal</h1>
            <p>
                The Navigation router works with the built-in <code>Modal</code> component from React Native. Like the Navigation router, the <code>Modal</code> component is 100% native on Android and iOS. You can see how to configure it on <a href="https://reactnative.dev/docs/modal">the React Native website</a>. In our email example, we add a 'Create Contact' button to the contacts list. When pressed, we display a modal to collect the contact's name and number.
            </p>
            <pre><code class="language-jsx">import {Modal} from 'react-native';

&lt;Modal
  visible={modalVisible}
  onRequestClose={() => setModalVisible(false)}>
  &lt;Contact />
&lt;/Modal> </code></pre>
            <h2>Navigating in a Modal</h2>
            <p>
                A modal can have its own stack of scenes independent of the main stack. Inside the <code>Modal</code>, you render a <code>NavigationStack</code> with its own <code>StateNavigator</code>. We need two scenes in the modal in our email example. The first collects the new contact's name and number and the second collects their address. We create a <code>StateNavigator</code> with a <code>State</code> for each scene.
            </p>
            <pre><code class="language-jsx">const contactNavigator = new StateNavigator([
  {key: 'contact'},
  {key: 'address', trackCrumbTrail: true}
]);</code></pre>
            <p>
                Then we render the <code>NavigationStack</code> inside the <code>Modal</code> and assign it the <code>StateNavigator</code> we just created.
            </p>
            <pre><code class="language-jsx">&lt;Modal>
  &lt;NavigationHandler stateNavigator={contactNavigator}>
    &lt;NavigationStack>
      &lt;Scene stateKey="contact">&lt;Contact />&lt;/Scene>
      &lt;Scene stateKey="address">&lt;Address />&lt;/Scene>
    &lt;/NavigationStack>
  &lt;/NavigationHandler>
&lt;/Modal> </code></pre>
            <h2>Handling the Android Back Button</h2>
            <p>
                When the user presses the Android back button inside a modal, React Native calls the <code>onRequestClose</code> prop. Normally this is where youâ€™d close the modal. But if you have a stack of scenes you might want to navigate to the start of the stack before closing the modal. If you wrap the <code>Modal</code> in a <code>ModalBackHandler</code> you have access to a <code>handleBack</code> function that pops the scene on the top of the stack.
            </p>
            <pre><code class="language-jsx">import {ModalBackHandler} from 'navigation-react-native';

&lt;ModalBackHandler>
  {handleBack => (
    &lt;Modal
      onRequestClose={() => {
        if (!handleBack())
          this.setState({modalVisible: false});
      }}>
      &lt;NavigationHandler stateNavigator={contactNavigator}>
        &lt;NavigationStack>
          &lt;Scene stateKey="contact">&lt;Contact />&lt;/Scene>
          &lt;Scene stateKey="address">&lt;Address />&lt;/Scene>
        &lt;/NavigationStack>
      &lt;/NavigationHandler>
    &lt;/Modal>        
  )}
&lt;/ModalBackHandler></code></pre>
        </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>