<html>
<head>
    <title>Drawer</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../css/prism.css">
    <link rel="stylesheet" href="../../css/navigation.css">
    <style>
      :root {
        --primary-color: #9cc3d5ff;
        --secondary-color: #0063b2ff;
      }    
    </style>
</head>
<body>
    <div id="banner">
      <a href="../../native"><img alt="logo" src="../../img/logo.png" /></a>
      <a href="../setup.html">React</a>
      <a href="https://github.com/grahammendick/navigation">GitHub</a>
    </div>
    <div id="content">
        <div id="menu">
            <h2>
                <img alt="native" src="../../img/native.png" />
                React Native
            </h2>
            <div id="items">
                <a href="setup.html">Setup</a>
                <a href="hello-world.html">Hello World</a>
                <a href="push-navigation.html">Push Navigation</a>
                <a href="pop-navigation.html">Pop Navigation</a>
                <a href="navigation-bar.html">Navigation Bar</a>
                <a href="tab-bar.html">Tab Bar</a>
                <a href="modal.html">Modal</a>
                <a href="drawer.html" class="selected">Drawer</a>
                <a href="bottom-sheet.html">Bottom Sheet</a>
                <a href="floating-action-button.html">Floating Action Button (Android)</a>
                <a href="scene-navigation-lifecycle.html">Navigation Lifecycle</a>
                <a href="custom-animation.html">Custom Animation</a>
                <a href="shared-element-transition.html">Shared Element Transition (Android)</a>
                <a href="deep-links.html">Deep Links</a>
                <a href="typescript.html">TypeScript</a>
                <a href="examples.html">Examples</a>
                <h3>Web</h3>
                <a href="web/setup.html">Setup</a>
                <a href="web/browser-history.html">Browser History</a>
                <a href="web/hyperlinks.html">Hyperlinks</a>
                <a href="web/custom-animation.html">Custom Animation</a>
                <a href="web/shared-element-transition.html">Shared Element Transition</a>
                <a href="web/examples.html">Examples</a>
            </div>
        </div>
        <div id="article">
            <h1>Drawer</h1>
            <p>
                The Navigation router works with the built-in <code>DrawerLayoutAndroid</code> component from React Native. The <code>DrawerLayoutAndroid</code> component is 100% native on Android. You can see how it works on the <a href="https://reactnative.dev/docs/drawerlayoutandroid">the React Native website</a>, but make sure you add it at the top of the scene. We add the drawer to the 'inbox' scene so the user can view their sent email. When the user taps the 'sent' button we close the drawer and navigate to their sent email once the close animation completes.
            </p>
            <pre><code class="language-jsx">import {DrawerLayoutAndroid} from 'react-native';

&lt;DrawerLayoutAndroid
  ref={drawer}
  onDrawerClose={() => {
    if (selected)
      stateNavigator.navigate('sent');
  }}
  renderNavigationView={() => (
    &lt;View>
      &lt;TouchableHighlight
        onPress={() => {
          setSelected(true);
          drawer.closeDrawer();
      }}>
        &lt;Text>Sent&lt;/Text>
      &lt;/TouchableHighlight>
    &lt;/View>
  )}>
  ...
&lt;/DrawerLayoutAndroid></code></pre>
            <p>
                Remember that the Navigation router manages the stack by dropping a breadcrumb at each visited scene. You disable the breadcrumb trail by setting <code>trackCrumbTrail</code> to false (the default) against a <code>State</code>. When navigating to that <code>State</code> the stack of scenes will start from scratch. In our email example, we disable the breadcrumb trail for the 'sent' <code>State</code> so that the 'sent' scene replaces the 'inbox' scene in the stack.
            </p>
            <pre><code class="language-jsx">const stateNavigator = new StateNavigator([
  {key: 'inbox'},
  {key: 'mail', trackCrumbTrail: true},
  {key: 'compose', trackCrumbTrail: true},
  {key: 'sent'}
]);</code></pre>
            <p>
                When one scene replaces another, the Navigation router animates the transition. We can use the <a href="custom-animation.html">custom animation API</a> to disable the animation so that the 'sent' scene immediately appears in place of the inbox. When the user taps the 'sent' button in the drawer, the Navigation router calls our <code>unmountStyle</code> prop passing in the target <code>State</code>. We return an empty string that tells the Navigation router to disable the animation.
            </p>
            <pre><code class="language-jsx">&lt;NavigationStack unmountStyle={(from, state) => state === sent ? '' : null}>
  &lt;Scene stateKey="inbox">&lt;Inbox />&lt;/Scene>
  &lt;Scene stateKey="mail">&lt;Mail />&lt;/Scene>
  &lt;Scene stateKey="compose">&lt;Compose />&lt;/Scene>
  &lt;Scene stateKey="sent">&lt;Sent />&lt;/Scene>
&lt;/NavigationStack></code></pre>
        </div>
    <script type="text/javascript" src="../../js/prism.js"></script>
</body>
</html>
