<html>
<head>
    <title>Custom Animation</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../../../css/prism.css">
    <link rel="stylesheet" href="../../../css/navigation.css">
    <style>
        :root {
            --primary-color: #9cc3d5ff;
            --secondary-color: #0063b2ff;
        }
    </style>
</head>

<body>
    <div id="banner">
        <a href="../../../native"><img alt="logo" src="../../../img/logo.png" /></a>
        <a href="../../setup.html">React</a>
        <a href="https://github.com/grahammendick/navigation">GitHub</a>
    </div>
    <div id="content">
        <div id="menu">
            <h2>
                <img alt="native" src="../../../img/native.png" />
                React Native
            </h2>
            <div id="items">
                <a href="../setup.html">Setup</a>
                <a href="../hello-world.html">Hello World</a>
                <a href="../push-navigation.html">Push Navigation</a>
                <a href="../pop-navigation.html">Pop Navigation</a>
                <a href="../navigation-bar.html">Navigation Bar</a>
                <a href="../tab-bar.html">Tab Bar</a>
                <a href="../sheet.html">Sheet</a>
                <a href="../drawer.html">Drawer</a>
                <a href="../floating-action-button.html">Floating Action Button</a>
                <a href="../scene-navigation-lifecycle.html">Navigation Lifecycle</a>
                <a href="../custom-animation.html">Custom Animation</a>
                <a href="../shared-element-transition.html">Shared Element Transition (Android)</a>
                <a href="../deep-links.html">Deep Links</a>
                <a href="../typescript.html">TypeScript</a>
                <a href="../examples.html">Examples</a>
                <h3>Web</h3>
                <a href="setup.html">Setup</a>
                <a href="browser-history.html">Browser History</a>
                <a href="hyperlinks.html">Hyperlinks</a>
                <a href="custom-animation.html" class="selected">Custom Animation</a>
                <a href="shared-element-transition.html">Shared Element Transition</a>
                <a href="examples.html">Examples</a>
            </div>
        </div>
        <div id="article">
            <h1>Custom Animation</h1>
            <p>
                In our example email application, we want the same <a href="../custom-animation.html">push and pop animations</a> that we've already got running on Android. When a user opens an email, the 'mail' scene slides in from the right and the 'inbox' scene fades out.  When the user presses back, the 'inbox' scene fades in as the 'mail' scene slides back out the way it came.
            </p>
            <p>
                We assign a <code>style prop</code> for each of the three different stages a scene can be in - <code>mounted</code> is when the scene is pushed onto the stack, <code>unmounted</code> is when the scene is popped off the stack and <code>crumbed</code> is when the scene is hidden in the stack. On the web, the <code>NavigationStack</code> provides a <code>renderTransition</code> callback function that lets us animate between these styles as a scene moves from one stage to another. We use the callback's parameters to style the scene with the interpolated translation and opacity values.
            </p>
            <pre><code class="language-jsx">&lt;NavigationStack
  unmountedStyle={{translate: 100, opacity: 1}}
  mountedStyle={{translate: 0, opacity: 1}}
  crumbedStyle={{translate: 0, opacity: 0}}
  renderTransition={(style, scene, key) => (
    &lt;View
      key={key}
      style={{
        transform: `translate(${style.translate}%)`,
        opacity: style.opactity,
        position: 'absolute',
        left: 0, right: 0, top: 0, bottom: 0,
        overflow: 'hidden'
      }}>
      {scene}
    &lt;/View>
  )}></code></pre>
        </div>
    </div>
    <script type="text/javascript" src="../../../js/prism.js"></script>
</body>

</html>